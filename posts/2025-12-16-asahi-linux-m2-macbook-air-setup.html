<!doctype html>
<html lang="en">
<head>
<title>Asahi Linux (Fedora + Gnome) M2 MacBook Air Setup</title>
<base href="/">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="author" content="Wilfred Denton">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@unsafe_io">
<meta name="twitter:title" content="Asahi Linux (Fedora + Gnome) M2 MacBook Air Setup">
<link rel="icon" type="image/png" href="assets/favicon.png">
<link rel="stylesheet" href="assets/dracula.css">
<link rel="stylesheet" href="assets/style.css">
<script type="text/javascript" src="assets/highlight.min.js" defer></script>
<script type="text/javascript" src="assets/script.js" defer></script>
</head>
<body>
<div id="container">
<nav>
<a href="">Home</a>
<span class="breadcrumb">></span>
<a href="posts">Posts</a>
<span class="breadcrumb">></span>
<a href="posts/2025-12-16-asahi-linux-m2-macbook-air-setup.html">Dec 16, 2025</a>
</nav>
<section>
<!--metadata
date = 2025-12-16
-->
<h1>Asahi Linux (Fedora + Gnome) M2 MacBook Air Setup</h1>
<p>Unlike the bloat of Windows and the form-over-function of MacOS, Asahi Linux offers a refreshingly stable, fast, and productivity-focused experience. What follows is a collection of tips and tricks to get the most out of your Asahi Linux installation.</p>
<p>Why Gnome and not KDE? I just need my system to work and am not that interested in customization. I find Gnome to be more stable and it provides a familiar experience coming from MacOS.</p>
<h2>Swap</h2>
<p>The M2 MacBook Air's highest memory configuration is only 16GB which is shared cross the GPU and CPU cores. By default, the swap file is only 8GB. I increase its size to 24GB. This allows me to compile my rust project's integration test suite with more than a single <code>CARGO_BUILD_JOB</code>, which would previously OOM.</p>
<pre><code class="language-bash">sudo /usr/libexec/fedora-asahi-remix-scripts/setup-swap.sh --recreate 24G
</code></pre>
<p>More info from the previous maintainer <a href="https://discussion.fedoraproject.org/t/psa-transitioning-from-zram-swap-to-zswap/138256">here</a></p>
<h2>Install <code>dnf</code> Development Groups</h2>
<p>For my work, various C compilers and build tools are necessary so this is an easy way to get most commonly used build dependencies:</p>
<pre><code class="language-bash">sudo dnf install @development-tools @c-development
</code></pre>
<p><code>cmake</code> is not included in this so you can install with:</p>
<pre><code class="language-bash">sudo dnf install cmake
</code></pre>
<h2>Tweaks and Extensions</h2>
<p>To further customize gnome, which I do in the following sections, install the "Tweaks" and "Extension Manager" apps from the "Software" store.</p>
<h2>Modifier Keys</h2>
<p>Using the "Tweaks" app. Under "Keyboard" -&gt; "Additional Layout Options". I toggle on:</p>
<ul>
<li>"Alt and Win Behavior" -&gt; "Alt is swapped with Win"</li>
<li>"Ctrl position" -&gt; "Caps Lock as Ctrl".</li>
</ul>
<h2>Windows Style Alt-Tab</h2>
<p>I prefer alt-tab to cycle through open windows instead of apps. This can be done by assigning:</p>
<p>"Settings" -&gt; "Keyboard" -&gt; "View and Customize Shortcuts" -&gt; "Navigation" -&gt; "Switch windows"</p>
<p>to "Alt+Tab".</p>
<h2>Enable Notch Screen Area</h2>
<p>By default, Fedora Asahi Linux disables the screen area around the notch. This creates a "bezel" effect where the top of the screen is a black bar.</p>
<p>To use the screen space around the notch, you need to add a kernel argument.</p>
<pre><code class="language-bash">sudo grubby --update-kernel=ALL --args="apple_dcp.show_notch=1"
</code></pre>
<p>This requires a restart to take effect.</p>
<p>To move the clock in the top bar to the right (so it's not covered by the notch). Install the "Just Perfection" extension. In the extension settings set "Customize" -&gt; "Clock Menu Position" to "Right".</p>
<p>To adjust the top bar height to match the notch height install the "User style sheet" Gnome extension using the "Extension Manager" from the "Software" store.</p>
<p>Create a css file at <code>~/.config/gnome-shell/gnome-shell.css</code>.</p>
<p>I use <code>150%</code> scale in my display settings and so setting the top bar (panel) height to <code>35px</code> does the trick.</p>
<pre><code class="language-css">#panel {height: 35px !important}
</code></pre>
<p>The first time you create this file you will need to log out and log back in for the change to take effect. However, for all subsequent changes you can do <code>Alt + F2</code> to open the command runner and then enter <code>rt</code> to reload. This is useful for testing out different pixel values.</p>
<p>To disable it:</p>
<pre><code class="language-bash">sudo grubby --update-kernel=ALL --remove-args="apple_dcp.show_notch"
</code></pre>
<h2>Fonts</h2>
<p>To install fonts, simply copy the <code>*.ttc</code> or whatever files into <code>~/.local/share/fonts</code>. I use <a href="https://typeof.net/Iosevka/">Iosevka</a>.</p>
<h2>Video Playback</h2>
<p>By default non-free codecs are not supported but we can enable them by following the steps at the <a href="https://rpmfusion.org/Howto/Multimedia">RPM Fusion Multimedia Guide</a> which are:</p>
<pre><code class="language-bash">sudo dnf swap ffmpeg-free ffmpeg --allowerasing
</code></pre>
<pre><code class="language-bash">sudo dnf update @multimedia --setopt="install_weak_deps=False" --exclude=PackageKit-gstreamer-plugin
</code></pre>
<p>I use <code>mpv</code> player which can be installed in the "Software" store.</p>
<p><code>~/.config/mpv/mpv.conf</code>:</p>
<pre><code>vo=gpu-next
hwdec=auto
</code></pre>
<p><code>/.config/mpv/input.conf</code>:</p>
<pre><code>ctrl+r cycle-values video-rotate 0 90 180 270
ctrl+R cycle-values video-rotate 270 180 90 0
= cycle-values panscan 0 1
</code></pre>
<h2>Browser</h2>
<p>For work I have to use a Chromium based browser. I've found Vivaldi to be the best option that has support for <code>aarch64</code>. It can be installed from the "Software" store.</p>
<p>To get two-finger swipe navigation to work install the "Swipe Navigation Gesture" extension from the chrome webstore. I find upping sensitivity to 100% in the extension's settings to provide the best experience.</p>
<h2>Syncthing</h2>
<p>The simplest way to setup Syncthing is to download the <code>syncthing-linux-arm64</code> tar from the <a href="https://github.com/syncthing/syncthing/releases/latest">latest release on github</a>. There's a <code>syncthing</code> binary in the unpacked dir. Add this binary to your path in <code>.bashrc</code>. Then follow the <a href="https://docs.syncthing.net/users/autostart.html#linux">autostart guide for linux</a> to get it to launch. Syncthing can be installed with <code>dnf</code> but it is an old version.</p>

</section>
<script src="https://utteranc.es/client.js"
repo="wilfreddenton/unsafe-perform.io"
issue-term="title"
label="ðŸ”® utterances"
theme="preferred-color-scheme"
crossorigin="anonymous"
async>
</script>
<footer>
<p>generated by <a href="https://github.com/wilfreddenton/stoic">stoic</a></p>
</footer>
</div>
</body>
</html>
